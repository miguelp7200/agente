{
    "name": "Test: Estadísticas de RUTs únicos con contexto temporal completo",
    "description": "Valida que el agente proporcione estadísticas de RUTs con información temporal completa. Debe llamar get_unique_ruts_statistics seguido de get_data_coverage_statistics para contexto temporal.",
    "query": "Dame estadísticas de los RUTs con más facturas, mostrando al menos 2 facturas por RUT",
    "expected_trajectory": [
        {
            "tool_name": "get_unique_ruts_statistics",
            "args": {
                "min_facturas": 2,
                "limit_ruts": 20
            }
        },
        {
            "tool_name": "get_data_coverage_statistics",
            "args": {}
        }
    ],
    "expected_response": {
        "should_contain": [
            "RUT:",
            "Total Facturas:",
            "desde",
            "hasta",
            "Los datos abarcan",
            "años",
            "horizonte temporal",
            "facturas totales"
        ],
        "should_not_contain": [
            "error",
            "no encontré",
            "disculpa",
            "no puedo"
        ]
    },
    "metadata": {
        "category": "statistics_with_temporal_context",
        "priority": "high",
        "created_date": "2025-08-25",
        "updated_date": "2025-09-08",
        "test_type": "comprehensive_statistics_with_temporal_context",
        "expected_execution_time": "< 8 segundos",
        "improvement_notes": "Test actualizado para validar mejora de contexto temporal automático",
        "expected_high_volume_ruts": [
            "9025012-4",
            "76341146-K",
            "4911410-9",
            "61958500-3"
        ],
        "validation_requirements": {
            "min_records": 1,
            "max_records": 20,
            "total_facturas_min": 2,
            "sequence_required": true
        }
    }
}