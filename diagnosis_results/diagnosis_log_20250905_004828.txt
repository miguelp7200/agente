[2025-09-05 00:48:28] [INFO] 🚀 Iniciando diagnóstico de backends...
[2025-09-05 00:48:28] [INFO] 📋 Backend A: https://invoice-backend-yuhrx5x2ra-uc.a.run.app
[2025-09-05 00:48:28] [INFO] 📋 Backend B: https://invoice-backend-819133916464.us-central1.run.app
[2025-09-05 00:48:28] [INFO] 📂 Directorio de tests: tests
[2025-09-05 00:48:28] [INFO] 📁 Directorio de output: diagnosis_results
[2025-09-05 00:48:28] [INFO] 🔐 Obteniendo token de autenticación...
[2025-09-05 00:48:31] [SUCCESS] ✅ Token obtenido exitosamente
[2025-09-05 00:48:31] [INFO] 🔍 Probando conectividad con backends...
[2025-09-05 00:48:31] [INFO] [Backend-A] 🔍 Probando conectividad con Backend-A...
[2025-09-05 00:48:31] [INFO] [Backend-A] 📝 Creando sesión de test: connectivity-test-004831...
[2025-09-05 00:48:31] [SUCCESS] [Backend-A] ✅ Sesión creada exitosamente
[2025-09-05 00:48:31] [INFO] [Backend-A] 🔍 Probando endpoint /run...
[2025-09-05 00:48:34] [SUCCESS] [Backend-A] ✅ Conectividad OK - ADK responde correctamente
[2025-09-05 00:48:34] [INFO] [Backend-B] 🔍 Probando conectividad con Backend-B...
[2025-09-05 00:48:34] [INFO] [Backend-B] 📝 Creando sesión de test: connectivity-test-004834...
[2025-09-05 00:48:34] [SUCCESS] [Backend-B] ✅ Sesión creada exitosamente
[2025-09-05 00:48:34] [INFO] [Backend-B] 🔍 Probando endpoint /run...
[2025-09-05 00:48:39] [SUCCESS] [Backend-B] ✅ Conectividad OK - ADK responde correctamente
[2025-09-05 00:48:39] [INFO] 📂 Cargando casos de test desde: tests
[2025-09-05 00:48:39] [INFO] 📄 Procesando archivo: estadisticas_ruts_unicos.test.json
[2025-09-05 00:48:39] [SUCCESS] ✅ Test cargado: estadisticas_ruts_unicos.test
[2025-09-05 00:48:39] [INFO] 📄 Procesando archivo: facturas_cedible_cf_0012148561.test.json
[2025-09-05 00:48:39] [SUCCESS] ✅ Test cargado: Test: Factura cedible CF por solicitante 0012148561
[2025-09-05 00:48:39] [INFO] 📄 Procesando archivo: facturas_cedible_sf_0012148561.test.json
[2025-09-05 00:48:39] [SUCCESS] ✅ Test cargado: Test: Factura cedible SF por solicitante 0012148561
[2025-09-05 00:48:39] [INFO] 📄 Procesando archivo: facturas_cedibles_multiples_0012148561.test.json
[2025-09-05 00:48:39] [SUCCESS] ✅ Test cargado: Test: Facturas cedibles múltiples por solicitante 0012148561
[2025-09-05 00:48:39] [INFO] 📄 Procesando archivo: facturas_estadisticas_ruts.test.json
[2025-09-05 00:48:39] [SUCCESS] ✅ Test cargado: facturas_estadisticas_ruts.test
[2025-09-05 00:48:39] [INFO] 📄 Procesando archivo: facturas_fecha_especifica_2019-12-26.test.json
[2025-09-05 00:48:39] [SUCCESS] ✅ Test cargado: Test: Búsqueda por fecha específica 2019-12-26
[2025-09-05 00:48:39] [INFO] 📄 Procesando archivo: facturas_mes_year_diciembre_2019.test.json
[2025-09-05 00:48:39] [SUCCESS] ✅ Test cargado: Test: Búsqueda por Mes y Año Específico
[2025-09-05 00:48:39] [INFO] 📄 Procesando archivo: facturas_multiple_ruts.test.json
[2025-09-05 00:48:39] [SUCCESS] ✅ Test cargado: Test: Búsqueda por Múltiples RUTs
[2025-09-05 00:48:39] [INFO] 📄 Procesando archivo: facturas_rango_fechas_diciembre_2019.test.json
[2025-09-05 00:48:39] [SUCCESS] ✅ Test cargado: Test: Búsqueda por rango de fechas diciembre 2019
[2025-09-05 00:48:39] [INFO] 📄 Procesando archivo: facturas_recent_by_date.test.json
[2025-09-05 00:48:39] [SUCCESS] ✅ Test cargado: Test: Búsqueda de Facturas Más Recientes
[2025-09-05 00:48:39] [INFO] 📊 Total de casos de test cargados: 10
[2025-09-05 00:48:39] [INFO] 🧪 Iniciando ejecución de tests...
[2025-09-05 00:48:39] [INFO] 🔄 Test 1/10: estadisticas_ruts_unicos.test
[2025-09-05 00:48:39] [INFO] [Backend-A] 📤 Enviando consulta: 'Dame estadísticas de los RUTs con más facturas, mo...'
[2025-09-05 00:48:39] [INFO] [Backend-A] 📝 Creando sesión: diagnosis-session-20250905_004828-Backend-A-331812925...
[2025-09-05 00:48:39] [SUCCESS] [Backend-A] ✅ Sesión creada
[2025-09-05 00:48:39] [INFO] [Backend-A] 🔗 Enviando a /run endpoint...
[2025-09-05 00:48:39] [INFO] [Backend-A] ⏱️ Enviando consulta (timeout: 300s para procesamiento completo)...
[2025-09-05 00:48:47] [SUCCESS] [Backend-A] ✅ Respuesta recibida (7954.6509ms,  chars)
[2025-09-05 00:48:47] [INFO] [Backend-B] 📤 Enviando consulta: 'Dame estadísticas de los RUTs con más facturas, mo...'
[2025-09-05 00:48:47] [INFO] [Backend-B] 📝 Creando sesión: diagnosis-session-20250905_004828-Backend-B-563166651...
[2025-09-05 00:48:48] [SUCCESS] [Backend-B] ✅ Sesión creada
[2025-09-05 00:48:48] [INFO] [Backend-B] 🔗 Enviando a /run endpoint...
[2025-09-05 00:48:48] [INFO] [Backend-B] ⏱️ Enviando consulta (timeout: 300s para procesamiento completo)...
[2025-09-05 00:48:52] [SUCCESS] [Backend-B] ✅ Respuesta recibida (4741.1918ms,  chars)
[2025-09-05 00:48:53] [ANALYSIS] 📈 Comparación - Proxy URLs: A=0, B=0 | Signed URLs: A=0, B=0
[2025-09-05 00:48:53] [INFO] ⏸️ Pausa de 5 segundos antes del siguiente test...
[2025-09-05 00:48:58] [INFO] 🔄 Test 2/10: Test: Factura cedible CF por solicitante 0012148561
[2025-09-05 00:48:58] [INFO] [Backend-A] 📤 Enviando consulta: 'Puedes darme la factura cedible cf cuyo solicitant...'
[2025-09-05 00:48:58] [INFO] [Backend-A] 📝 Creando sesión: diagnosis-session-20250905_004828-Backend-A-2088763971...
[2025-09-05 00:48:58] [SUCCESS] [Backend-A] ✅ Sesión creada
[2025-09-05 00:48:58] [INFO] [Backend-A] 🔗 Enviando a /run endpoint...
[2025-09-05 00:48:58] [INFO] [Backend-A] ⏱️ Enviando consulta (timeout: 300s para procesamiento completo)...
[2025-09-05 00:49:01] [SUCCESS] [Backend-A] ✅ Respuesta recibida (2807.8834ms,  chars)
[2025-09-05 00:49:01] [ERROR] [Backend-A] ❌ Error enviando consulta: Cannot find drive. A drive with the name 'diagnosis_results\response_Backend-A_Test' does not exist.
[2025-09-05 00:49:01] [INFO] [Backend-B] 📤 Enviando consulta: 'Puedes darme la factura cedible cf cuyo solicitant...'
[2025-09-05 00:49:01] [INFO] [Backend-B] 📝 Creando sesión: diagnosis-session-20250905_004828-Backend-B-301826691...
[2025-09-05 00:49:01] [SUCCESS] [Backend-B] ✅ Sesión creada
[2025-09-05 00:49:01] [INFO] [Backend-B] 🔗 Enviando a /run endpoint...
[2025-09-05 00:49:01] [INFO] [Backend-B] ⏱️ Enviando consulta (timeout: 300s para procesamiento completo)...
[2025-09-05 00:49:04] [SUCCESS] [Backend-B] ✅ Respuesta recibida (2648.473ms,  chars)
[2025-09-05 00:49:04] [ERROR] [Backend-B] ❌ Error enviando consulta: Cannot find drive. A drive with the name 'diagnosis_results\response_Backend-B_Test' does not exist.
[2025-09-05 00:49:04] [ANALYSIS] 📈 Comparación - Proxy URLs: A=0, B=0 | Signed URLs: A=0, B=0
[2025-09-05 00:49:04] [INFO] ⏸️ Pausa de 5 segundos antes del siguiente test...
[2025-09-05 00:49:09] [INFO] 🔄 Test 3/10: Test: Factura cedible SF por solicitante 0012148561
[2025-09-05 00:49:09] [INFO] [Backend-A] 📤 Enviando consulta: 'Puedes darme la factura cedible sf cuyo solicitant...'
[2025-09-05 00:49:09] [INFO] [Backend-A] 📝 Creando sesión: diagnosis-session-20250905_004828-Backend-A-2075992059...
[2025-09-05 00:49:09] [SUCCESS] [Backend-A] ✅ Sesión creada
[2025-09-05 00:49:09] [INFO] [Backend-A] 🔗 Enviando a /run endpoint...
[2025-09-05 00:49:09] [INFO] [Backend-A] ⏱️ Enviando consulta (timeout: 300s para procesamiento completo)...
[2025-09-05 00:49:12] [SUCCESS] [Backend-A] ✅ Respuesta recibida (2857.9782ms,  chars)
[2025-09-05 00:49:12] [ERROR] [Backend-A] ❌ Error enviando consulta: Cannot find drive. A drive with the name 'diagnosis_results\response_Backend-A_Test' does not exist.
[2025-09-05 00:49:12] [INFO] [Backend-B] 📤 Enviando consulta: 'Puedes darme la factura cedible sf cuyo solicitant...'
[2025-09-05 00:49:12] [INFO] [Backend-B] 📝 Creando sesión: diagnosis-session-20250905_004828-Backend-B-2464883...
[2025-09-05 00:49:12] [SUCCESS] [Backend-B] ✅ Sesión creada
[2025-09-05 00:49:12] [INFO] [Backend-B] 🔗 Enviando a /run endpoint...
[2025-09-05 00:49:12] [INFO] [Backend-B] ⏱️ Enviando consulta (timeout: 300s para procesamiento completo)...
[2025-09-05 00:49:15] [SUCCESS] [Backend-B] ✅ Respuesta recibida (2526.189ms,  chars)
[2025-09-05 00:49:15] [ERROR] [Backend-B] ❌ Error enviando consulta: Cannot find drive. A drive with the name 'diagnosis_results\response_Backend-B_Test' does not exist.
[2025-09-05 00:49:15] [ANALYSIS] 📈 Comparación - Proxy URLs: A=0, B=0 | Signed URLs: A=0, B=0
[2025-09-05 00:49:15] [INFO] ⏸️ Pausa de 5 segundos antes del siguiente test...
[2025-09-05 00:49:20] [INFO] 🔄 Test 4/10: Test: Facturas cedibles múltiples por solicitante 0012148561
[2025-09-05 00:49:20] [INFO] [Backend-A] 📤 Enviando consulta: 'Puedes darme las facturas cedibles cuyo solicitant...'
[2025-09-05 00:49:20] [INFO] [Backend-A] 📝 Creando sesión: diagnosis-session-20250905_004828-Backend-A-684738201...
[2025-09-05 00:49:20] [SUCCESS] [Backend-A] ✅ Sesión creada
[2025-09-05 00:49:20] [INFO] [Backend-A] 🔗 Enviando a /run endpoint...
[2025-09-05 00:49:20] [INFO] [Backend-A] ⏱️ Enviando consulta (timeout: 300s para procesamiento completo)...
[2025-09-05 00:49:23] [SUCCESS] [Backend-A] ✅ Respuesta recibida (2907.1043ms,  chars)
[2025-09-05 00:49:23] [ERROR] [Backend-A] ❌ Error enviando consulta: Cannot find drive. A drive with the name 'diagnosis_results\response_Backend-A_Test' does not exist.
[2025-09-05 00:49:23] [INFO] [Backend-B] 📤 Enviando consulta: 'Puedes darme las facturas cedibles cuyo solicitant...'
[2025-09-05 00:49:23] [INFO] [Backend-B] 📝 Creando sesión: diagnosis-session-20250905_004828-Backend-B-127478726...
[2025-09-05 00:49:23] [SUCCESS] [Backend-B] ✅ Sesión creada
[2025-09-05 00:49:23] [INFO] [Backend-B] 🔗 Enviando a /run endpoint...
[2025-09-05 00:49:23] [INFO] [Backend-B] ⏱️ Enviando consulta (timeout: 300s para procesamiento completo)...
[2025-09-05 00:49:27] [SUCCESS] [Backend-B] ✅ Respuesta recibida (3191.9734ms,  chars)
[2025-09-05 00:49:27] [ERROR] [Backend-B] ❌ Error enviando consulta: Cannot find drive. A drive with the name 'diagnosis_results\response_Backend-B_Test' does not exist.
[2025-09-05 00:49:27] [ANALYSIS] 📈 Comparación - Proxy URLs: A=0, B=0 | Signed URLs: A=0, B=0
[2025-09-05 00:49:27] [INFO] ⏸️ Pausa de 5 segundos antes del siguiente test...
[2025-09-05 00:49:32] [INFO] 🔄 Test 5/10: facturas_estadisticas_ruts.test
[2025-09-05 00:49:32] [INFO] [Backend-A] 📤 Enviando consulta: 'Dame estadísticas de RUTs únicos: cuántas facturas...'
[2025-09-05 00:49:32] [INFO] [Backend-A] 📝 Creando sesión: diagnosis-session-20250905_004828-Backend-A-420758114...
[2025-09-05 00:49:32] [SUCCESS] [Backend-A] ✅ Sesión creada
[2025-09-05 00:49:32] [INFO] [Backend-A] 🔗 Enviando a /run endpoint...
[2025-09-05 00:49:32] [INFO] [Backend-A] ⏱️ Enviando consulta (timeout: 300s para procesamiento completo)...
[2025-09-05 00:49:38] [SUCCESS] [Backend-A] ✅ Respuesta recibida (5672.554ms,  chars)
[2025-09-05 00:49:38] [INFO] [Backend-B] 📤 Enviando consulta: 'Dame estadísticas de RUTs únicos: cuántas facturas...'
[2025-09-05 00:49:38] [INFO] [Backend-B] 📝 Creando sesión: diagnosis-session-20250905_004828-Backend-B-344767856...
[2025-09-05 00:49:38] [SUCCESS] [Backend-B] ✅ Sesión creada
[2025-09-05 00:49:38] [INFO] [Backend-B] 🔗 Enviando a /run endpoint...
[2025-09-05 00:49:38] [INFO] [Backend-B] ⏱️ Enviando consulta (timeout: 300s para procesamiento completo)...
[2025-09-05 00:49:42] [SUCCESS] [Backend-B] ✅ Respuesta recibida (4373.6293ms,  chars)
[2025-09-05 00:49:42] [ANALYSIS] 📈 Comparación - Proxy URLs: A=0, B=0 | Signed URLs: A=0, B=0
[2025-09-05 00:49:42] [INFO] ⏸️ Pausa de 5 segundos antes del siguiente test...
[2025-09-05 00:49:47] [INFO] 🔄 Test 6/10: Test: Búsqueda por fecha específica 2019-12-26
[2025-09-05 00:49:47] [INFO] [Backend-A] 📤 Enviando consulta: 'Puedes darme las facturas del 26 de diciembre de 2...'
[2025-09-05 00:49:47] [INFO] [Backend-A] 📝 Creando sesión: diagnosis-session-20250905_004828-Backend-A-1374790419...
[2025-09-05 00:49:48] [SUCCESS] [Backend-A] ✅ Sesión creada
[2025-09-05 00:49:48] [INFO] [Backend-A] 🔗 Enviando a /run endpoint...
[2025-09-05 00:49:48] [INFO] [Backend-A] ⏱️ Enviando consulta (timeout: 300s para procesamiento completo)...
[2025-09-05 00:49:50] [SUCCESS] [Backend-A] ✅ Respuesta recibida (2663.2965ms,  chars)
[2025-09-05 00:49:50] [ERROR] [Backend-A] ❌ Error enviando consulta: Cannot find drive. A drive with the name 'diagnosis_results\response_Backend-A_Test' does not exist.
[2025-09-05 00:49:50] [INFO] [Backend-B] 📤 Enviando consulta: 'Puedes darme las facturas del 26 de diciembre de 2...'
[2025-09-05 00:49:50] [INFO] [Backend-B] 📝 Creando sesión: diagnosis-session-20250905_004828-Backend-B-2051023348...
[2025-09-05 00:49:51] [SUCCESS] [Backend-B] ✅ Sesión creada
[2025-09-05 00:49:51] [INFO] [Backend-B] 🔗 Enviando a /run endpoint...
[2025-09-05 00:49:51] [INFO] [Backend-B] ⏱️ Enviando consulta (timeout: 300s para procesamiento completo)...
[2025-09-05 00:49:54] [SUCCESS] [Backend-B] ✅ Respuesta recibida (2852.321ms,  chars)
[2025-09-05 00:49:54] [ERROR] [Backend-B] ❌ Error enviando consulta: Cannot find drive. A drive with the name 'diagnosis_results\response_Backend-B_Test' does not exist.
[2025-09-05 00:49:54] [ANALYSIS] 📈 Comparación - Proxy URLs: A=0, B=0 | Signed URLs: A=0, B=0
[2025-09-05 00:49:54] [INFO] ⏸️ Pausa de 5 segundos antes del siguiente test...
[2025-09-05 00:49:59] [INFO] 🔄 Test 7/10: Test: Búsqueda por Mes y Año Específico
[2025-09-05 00:49:59] [INFO] [Backend-A] 📤 Enviando consulta: 'Busca facturas de diciembre 2019...'
[2025-09-05 00:49:59] [INFO] [Backend-A] 📝 Creando sesión: diagnosis-session-20250905_004828-Backend-A-1822393194...
[2025-09-05 00:49:59] [SUCCESS] [Backend-A] ✅ Sesión creada
[2025-09-05 00:49:59] [INFO] [Backend-A] 🔗 Enviando a /run endpoint...
[2025-09-05 00:49:59] [INFO] [Backend-A] ⏱️ Enviando consulta (timeout: 300s para procesamiento completo)...
[2025-09-05 00:50:47] [SUCCESS] [Backend-A] ✅ Respuesta recibida (47882.0474ms,  chars)
[2025-09-05 00:50:47] [ERROR] [Backend-A] ❌ Error enviando consulta: Cannot find drive. A drive with the name 'diagnosis_results\response_Backend-A_Test' does not exist.
[2025-09-05 00:50:47] [INFO] [Backend-B] 📤 Enviando consulta: 'Busca facturas de diciembre 2019...'
[2025-09-05 00:50:47] [INFO] [Backend-B] 📝 Creando sesión: diagnosis-session-20250905_004828-Backend-B-1730718912...
[2025-09-05 00:50:47] [SUCCESS] [Backend-B] ✅ Sesión creada
[2025-09-05 00:50:47] [INFO] [Backend-B] 🔗 Enviando a /run endpoint...
[2025-09-05 00:50:47] [INFO] [Backend-B] ⏱️ Enviando consulta (timeout: 300s para procesamiento completo)...
[2025-09-05 00:51:38] [SUCCESS] [Backend-B] ✅ Respuesta recibida (50819.6784ms,  chars)
[2025-09-05 00:51:38] [ERROR] [Backend-B] ❌ Error enviando consulta: Cannot find drive. A drive with the name 'diagnosis_results\response_Backend-B_Test' does not exist.
[2025-09-05 00:51:38] [ANALYSIS] 📈 Comparación - Proxy URLs: A=0, B=0 | Signed URLs: A=0, B=0
[2025-09-05 00:51:38] [INFO] ⏸️ Pausa de 5 segundos antes del siguiente test...
[2025-09-05 00:51:43] [INFO] 🔄 Test 8/10: Test: Búsqueda por Múltiples RUTs
[2025-09-05 00:51:43] [INFO] [Backend-A] 📤 Enviando consulta: 'Busca facturas de los RUTs 9025012-4,76341146-K...'
[2025-09-05 00:51:43] [INFO] [Backend-A] 📝 Creando sesión: diagnosis-session-20250905_004828-Backend-A-1890731446...
[2025-09-05 00:51:43] [SUCCESS] [Backend-A] ✅ Sesión creada
[2025-09-05 00:51:43] [INFO] [Backend-A] 🔗 Enviando a /run endpoint...
[2025-09-05 00:51:43] [INFO] [Backend-A] ⏱️ Enviando consulta (timeout: 300s para procesamiento completo)...
[2025-09-05 00:51:46] [SUCCESS] [Backend-A] ✅ Respuesta recibida (2794.5199ms,  chars)
[2025-09-05 00:51:46] [ERROR] [Backend-A] ❌ Error enviando consulta: Cannot find drive. A drive with the name 'diagnosis_results\response_Backend-A_Test' does not exist.
[2025-09-05 00:51:46] [INFO] [Backend-B] 📤 Enviando consulta: 'Busca facturas de los RUTs 9025012-4,76341146-K...'
[2025-09-05 00:51:46] [INFO] [Backend-B] 📝 Creando sesión: diagnosis-session-20250905_004828-Backend-B-619251235...
[2025-09-05 00:51:46] [SUCCESS] [Backend-B] ✅ Sesión creada
[2025-09-05 00:51:46] [INFO] [Backend-B] 🔗 Enviando a /run endpoint...
[2025-09-05 00:51:47] [INFO] [Backend-B] ⏱️ Enviando consulta (timeout: 300s para procesamiento completo)...
[2025-09-05 00:51:50] [SUCCESS] [Backend-B] ✅ Respuesta recibida (3024.6789ms,  chars)
[2025-09-05 00:51:50] [ERROR] [Backend-B] ❌ Error enviando consulta: Cannot find drive. A drive with the name 'diagnosis_results\response_Backend-B_Test' does not exist.
[2025-09-05 00:51:50] [ANALYSIS] 📈 Comparación - Proxy URLs: A=0, B=0 | Signed URLs: A=0, B=0
[2025-09-05 00:51:50] [INFO] ⏸️ Pausa de 5 segundos antes del siguiente test...
[2025-09-05 00:51:55] [INFO] 🔄 Test 9/10: Test: Búsqueda por rango de fechas diciembre 2019
[2025-09-05 00:51:55] [INFO] [Backend-A] 📤 Enviando consulta: 'Puedes darme las facturas entre el 1 de diciembre ...'
[2025-09-05 00:51:55] [INFO] [Backend-A] 📝 Creando sesión: diagnosis-session-20250905_004828-Backend-A-754066591...
[2025-09-05 00:51:55] [SUCCESS] [Backend-A] ✅ Sesión creada
[2025-09-05 00:51:55] [INFO] [Backend-A] 🔗 Enviando a /run endpoint...
[2025-09-05 00:51:55] [INFO] [Backend-A] ⏱️ Enviando consulta (timeout: 300s para procesamiento completo)...
[2025-09-05 00:52:43] [SUCCESS] [Backend-A] ✅ Respuesta recibida (47923.7992ms,  chars)
[2025-09-05 00:52:43] [ERROR] [Backend-A] ❌ Error enviando consulta: Cannot find drive. A drive with the name 'diagnosis_results\response_Backend-A_Test' does not exist.
[2025-09-05 00:52:43] [INFO] [Backend-B] 📤 Enviando consulta: 'Puedes darme las facturas entre el 1 de diciembre ...'
[2025-09-05 00:52:43] [INFO] [Backend-B] 📝 Creando sesión: diagnosis-session-20250905_004828-Backend-B-105669423...
[2025-09-05 00:52:43] [SUCCESS] [Backend-B] ✅ Sesión creada
[2025-09-05 00:52:43] [INFO] [Backend-B] 🔗 Enviando a /run endpoint...
[2025-09-05 00:52:43] [INFO] [Backend-B] ⏱️ Enviando consulta (timeout: 300s para procesamiento completo)...
